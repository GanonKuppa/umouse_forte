   1                             		.file	"abcled.cpp"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.global	__ZN11AbstructLED6updateEv
   6                             	__ZN11AbstructLED6updateEv:
   7                             	.LFB0:
   8                             		.file 1 "../src/robot_object/abcled.cpp"
   1:../src/robot_object/abcled.cpp **** 
   2:../src/robot_object/abcled.cpp **** #include "abcled.h"
   3:../src/robot_object/abcled.cpp **** 
   4:../src/robot_object/abcled.cpp **** 
   5:../src/robot_object/abcled.cpp **** 
   6:../src/robot_object/abcled.cpp **** 
   7:../src/robot_object/abcled.cpp **** 
   8:../src/robot_object/abcled.cpp **** 
   9:../src/robot_object/abcled.cpp **** /**
  10:../src/robot_object/abcled.cpp ****  * LEDの状態の更新
  11:../src/robot_object/abcled.cpp ****  * 1msecで呼ばれる割り込み関数の
  12:../src/robot_object/abcled.cpp ****  * 中にこの関数を記述すること
  13:../src/robot_object/abcled.cpp ****  *
  14:../src/robot_object/abcled.cpp ****  */
  15:../src/robot_object/abcled.cpp **** void AbstructLED::update(){
   9                             		.loc 1 15 0
  10                             	.LVL0:
  11 0000 7E A7                   		push.l	r7
  12                             	.LCFI0:
  13                             		.loc 1 15 0
  14 0002 EF 17                   		mov.L	r1, r7
  16:../src/robot_object/abcled.cpp **** 	if(flag_flash_LED == 1){
  15                             		.loc 1 16 0
  16 0004 8A 92                   		mov.B	10[r1], r2
  17 0006 5B 2E                   		movu.B	r2, r14
  18 0008 61 1E                   		cmp	#1, r14
  19 000a 14                      		beq	.L9
  17:../src/robot_object/abcled.cpp **** 		//LEDの点滅
  18:../src/robot_object/abcled.cpp **** 		if(LED_count < on_count_LED ) setState(1);
  19:../src/robot_object/abcled.cpp **** 		else setState(0);
  20:../src/robot_object/abcled.cpp **** 		if( (on_count_LED + off_count_LED) < LED_count ) LED_count = 0;
  21:../src/robot_object/abcled.cpp **** 		LED_count ++;
  22:../src/robot_object/abcled.cpp **** 	}
  23:../src/robot_object/abcled.cpp **** }
  20                             		.loc 1 23 0
  21 000b 3F 77 01                		rtsd	#4, r7-r7
  22                             	.L9:
  18:../src/robot_object/abcled.cpp **** 		else setState(0);
  23                             		.loc 1 18 0
  24 000e 98 94                   		mov.W	4[r1], r4
  25 0010 DD 1E 03                		mov.W	6[r1], r14
  26 0013 5F 44                   		movu.W	r4, r4
  27 0015 5F EE                   		movu.W	r14, r14
  28 0017 47 E4                   		cmp	r14, r4
  29 0019 EC 1E                   		mov.L	[r1], r14
  30 001b 22 28                   		bgeu	.L3
  31                             		.balign 8,3,1
  32                             	.L7:
  19:../src/robot_object/abcled.cpp **** 		if( (on_count_LED + off_count_LED) < LED_count ) LED_count = 0;
  33                             		.loc 1 19 0
  34 001d EC EE                   		mov.L	[r14], r14
  35 001f 7F 1E                   		jsr	r14
  36                             	.LVL1:
  20:../src/robot_object/abcled.cpp **** 		LED_count ++;
  37                             		.loc 1 20 0
  38 0021 98 FB                   		mov.W	6[r7], r3
  39 0023 99 74                   		mov.W	8[r7], r4
  40 0025 DD 7E 02                		mov.W	4[r7], r14
  41 0028 5F 33                   		movu.W	r3, r3
  42 002a 5F 44                   		movu.W	r4, r4
  43 002c 4B 34                   		add	r3, r4
  44 002e 5F EE                   		movu.W	r14, r14
  45 0030 47 E4                   		cmp	r14, r4
  46 0032 28 06                   		bge	.L5
  20:../src/robot_object/abcled.cpp **** 		LED_count ++;
  47                             		.loc 1 20 0 is_stmt 0 discriminator 1
  48 0034 3D 72 00                		mov.W	#0, 4[r7]
  49 0037 03                      		.balign 8,3,5
  50                             	.L5:
  21:../src/robot_object/abcled.cpp **** 	}
  51                             		.loc 1 21 0 is_stmt 1 discriminator 1
  52 0038 DD 7E 02                		mov.W	4[r7], r14
  53 003b 62 1E                   		add	#1, r14
  54 003d D7 7E 02                		mov.W	r14, 4[r7]
  55                             		.loc 1 23 0 discriminator 1
  56 0040 3F 77 01                		rtsd	#4, r7-r7
  57                             	.LVL2:
  58                             	.L3:
  19:../src/robot_object/abcled.cpp **** 		if( (on_count_LED + off_count_LED) < LED_count ) LED_count = 0;
  59                             		.loc 1 19 0
  60 0043 66 02                   		mov	#0, r2
  61 0045 2E D8                   		bra	.L7
  62                             	.LFE0:
  64                             		.global	__ZN11AbstructLED4turnEh
  66                             	__ZN11AbstructLED4turnEh:
  67                             	.LFB1:
  24:../src/robot_object/abcled.cpp **** 
  25:../src/robot_object/abcled.cpp **** /**
  26:../src/robot_object/abcled.cpp ****  * LEDの点灯と消灯.  LEDが点滅状態で
  27:../src/robot_object/abcled.cpp ****  * 呼んだ場合は常時点灯(消灯)状態になる.
  28:../src/robot_object/abcled.cpp ****  *
  29:../src/robot_object/abcled.cpp ****  * @param  state 1:点灯 0:消灯
  30:../src/robot_object/abcled.cpp ****  */
  31:../src/robot_object/abcled.cpp **** void AbstructLED::turn(uint8_t state){
  68                             		.loc 1 31 0
  69                             	.LVL3:
  32:../src/robot_object/abcled.cpp **** 	flag_flash_LED = 0;
  33:../src/robot_object/abcled.cpp **** 	setState(state);
  70                             		.loc 1 33 0
  71 0047 EC 14                   		mov.L	[r1], r4
  32:../src/robot_object/abcled.cpp **** 	flag_flash_LED = 0;
  72                             		.loc 1 32 0
  73 0049 3C 1A 00                		mov.B	#0, 10[r1]
  74                             		.loc 1 33 0
  75 004c EC 4E                   		mov.L	[r4], r14
  76 004e 7F 1E                   		jsr	r14
  77                             	.LVL4:
  78 0050 02                      		rts
  79                             	.LFE1:
  81                             		.global	__ZN11AbstructLED5flashEtt
  83                             	__ZN11AbstructLED5flashEtt:
  84                             	.LFB2:
  34:../src/robot_object/abcled.cpp **** }
  35:../src/robot_object/abcled.cpp **** 
  36:../src/robot_object/abcled.cpp **** /**
  37:../src/robot_object/abcled.cpp ****  * LEDを指定した時間間隔で点滅させる <br>
  38:../src/robot_object/abcled.cpp ****  * 例.LEDを100msecの間on, 50msecの間offで点滅させるには <br>
  39:../src/robot_object/abcled.cpp ****  *    on_count = 100, off_count = 50 <br>
  40:../src/robot_object/abcled.cpp ****  * LEDを常時点灯する場合は <br>
  41:../src/robot_object/abcled.cpp ****  *    turnLED(1) <br>
  42:../src/robot_object/abcled.cpp ****  * LEDを消灯する場合は <br>
  43:../src/robot_object/abcled.cpp ****  *    turnLED(0) <br>
  44:../src/robot_object/abcled.cpp ****  *
  45:../src/robot_object/abcled.cpp ****  * @param  on_count  [msec]
  46:../src/robot_object/abcled.cpp ****  * @param  off_count [msec]
  47:../src/robot_object/abcled.cpp ****  * @return void
  48:../src/robot_object/abcled.cpp ****  */
  49:../src/robot_object/abcled.cpp **** void AbstructLED::flash(uint16_t on_count, uint16_t off_count){
  85                             		.loc 1 49 0
  86                             	.LVL5:
  50:../src/robot_object/abcled.cpp **** 	flag_flash_LED = 1;
  87                             		.loc 1 50 0
  88 0051 3C 1A 01                		mov.B	#1, 10[r1]
  51:../src/robot_object/abcled.cpp **** 	on_count_LED    = on_count;
  89                             		.loc 1 51 0
  90 0054 90 9A                   		mov.W	r2, 6[r1]
  52:../src/robot_object/abcled.cpp **** 	off_count_LED   = off_count;
  91                             		.loc 1 52 0
  92 0056 91 13                   		mov.W	r3, 8[r1]
  93 0058 02                      		rts
  94                             	.LFE2:
 144                             	.Letext0:
 145                             		.file 2 "c:\\progra~2\\gccfor~2.201\\rx-elf\\rx-elf\\rx-elf\\include\\machine\\_default_types.h"
 146                             		.file 3 "c:\\progra~2\\gccfor~2.201\\rx-elf\\rx-elf\\rx-elf\\include\\stdint.h"
